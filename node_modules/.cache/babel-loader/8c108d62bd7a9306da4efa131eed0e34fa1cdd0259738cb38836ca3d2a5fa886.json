{"ast":null,"code":"import React,{useState}from\"react\";import\"./AdminServices.css\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const PASSWORD=\"2%txPg6DXN\";// توليد التبويبات ديناميكياً من allServices\nconst serviceLabels={nurseServices:\"خدمات التمريض\",doctorServices:\"خدمات الطبيب\",physioServices:\"خدمات العلاج الطبيعي\",pharmacistServices:\"خدمات الصيدلي\",labServices:\"خدمات التحاليل\",xrayServices:\"خدمات الأشعة\"};const AdminServices=_ref=>{let{allServices,onUpdate}=_ref;const[password,setPassword]=useState(\"\");const[authenticated,setAuthenticated]=useState(false);// أول تبويب متاح\n// أول تبويب متاح\nconst[tab,setTab]=useState(null);// إعداد نسخة قابلة للتعديل من جميع الخدمات\nconst[edited,setEdited]=useState({});// تحديث نسخة الخدمات عند تغيير allServices\nReact.useEffect(()=>{if(allServices&&Object.keys(allServices).length>0){setEdited(allServices);setTab(Object.keys(allServices)[0]);}},[allServices]);const handleLogin=e=>{e.preventDefault();if(password===PASSWORD)setAuthenticated(true);else alert(\"كلمة المرور غير صحيحة\");};const handleChange=(serviceType,id,value)=>{setEdited(prev=>({...prev,[serviceType]:prev[serviceType].map(s=>s.id===id?{...s,basePrice:value}:s)}));};const handleSave=()=>{onUpdate(edited);alert(\"تم حفظ الأسعار بنجاح!\");};if(!authenticated){return/*#__PURE__*/_jsx(\"div\",{className:\"admin-login\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleLogin,children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\u062A\\u0633\\u062C\\u064A\\u0644 \\u062F\\u062E\\u0648\\u0644 \\u0627\\u0644\\u0625\\u062F\\u0627\\u0631\\u0629\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"\\u0643\\u0644\\u0645\\u0629 \\u0627\\u0644\\u0645\\u0631\\u0648\\u0631\",value:password,onChange:e=>setPassword(e.target.value)}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"\\u062F\\u062E\\u0648\\u0644\"})]})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"admin-services\",style:{maxHeight:'70vh',overflow:'auto',paddingBottom:32},children:[/*#__PURE__*/_jsx(\"div\",{className:\"admin-tabs\",style:{position:'sticky',top:0,background:'#fff',zIndex:2,boxShadow:'0 2px 8px #0001',padding:'8px 0'},children:Object.keys(allServices).length===0?/*#__PURE__*/_jsx(\"span\",{style:{color:'#888'},children:\"\\u0644\\u0627 \\u062A\\u0648\\u062C\\u062F \\u062A\\u062E\\u0635\\u0635\\u0627\\u062A \\u0645\\u062A\\u0627\\u062D\\u0629\"}):Object.keys(allServices).map(key=>/*#__PURE__*/_jsx(\"button\",{className:tab===key?\"active\":\"\",onClick:()=>setTab(key),style:{marginLeft:8,marginRight:8,minWidth:120,fontWeight:700,fontSize:'1.1em',padding:'8px 18px',borderRadius:8,border:'none',background:tab===key?'#3182ce':'#e2e8f0',color:tab===key?'#fff':'#222',transition:'0.2s'},children:serviceLabels[key]||key},key))}),tab&&edited[tab]&&edited[tab].length>0?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"h2\",{children:[\"\\u062A\\u0639\\u062F\\u064A\\u0644 \\u0623\\u0633\\u0639\\u0627\\u0631 \",serviceLabels[tab]||tab]}),/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"\\u0627\\u0644\\u062E\\u062F\\u0645\\u0629\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u0627\\u0644\\u0633\\u0639\\u0631 \\u0627\\u0644\\u0623\\u0633\\u0627\\u0633\\u064A (\\u062C\\u0646\\u064A\\u0647)\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:edited[tab].map(service=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:service.name}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:service.basePrice,onChange:e=>handleChange(tab,service.id,Number(e.target.value)),min:0})})]},service.id))})]})]}):/*#__PURE__*/_jsx(\"div\",{style:{margin:'30px 0',color:'#888'},children:\"\\u0644\\u0627 \\u062A\\u0648\\u062C\\u062F \\u062E\\u062F\\u0645\\u0627\\u062A \\u0645\\u062A\\u0627\\u062D\\u0629 \\u0644\\u0647\\u0630\\u0627 \\u0627\\u0644\\u062A\\u062E\\u0635\\u0635\"}),/*#__PURE__*/_jsx(\"button\",{className:\"save-btn\",onClick:handleSave,children:\"\\u062D\\u0641\\u0638 \\u0627\\u0644\\u062A\\u0639\\u062F\\u064A\\u0644\\u0627\\u062A\"})]});};export default AdminServices;","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","PASSWORD","serviceLabels","nurseServices","doctorServices","physioServices","pharmacistServices","labServices","xrayServices","AdminServices","_ref","allServices","onUpdate","password","setPassword","authenticated","setAuthenticated","tab","setTab","edited","setEdited","useEffect","Object","keys","length","handleLogin","e","preventDefault","alert","handleChange","serviceType","id","value","prev","map","s","basePrice","handleSave","className","children","onSubmit","type","placeholder","onChange","target","style","maxHeight","overflow","paddingBottom","position","top","background","zIndex","boxShadow","padding","color","key","onClick","marginLeft","marginRight","minWidth","fontWeight","fontSize","borderRadius","border","transition","service","name","Number","min","margin"],"sources":["C:/Users/Pc/Desktop/DnsJumper/backend/nurse-tracking-Patient/src/components/AdminServices.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport \"./AdminServices.css\";\r\n\r\nconst PASSWORD = \"2%txPg6DXN\";\r\n\r\n// توليد التبويبات ديناميكياً من allServices\r\nconst serviceLabels = {\r\n  nurseServices: \"خدمات التمريض\",\r\n  doctorServices: \"خدمات الطبيب\",\r\n  physioServices: \"خدمات العلاج الطبيعي\",\r\n  pharmacistServices: \"خدمات الصيدلي\",\r\n  labServices: \"خدمات التحاليل\",\r\n  xrayServices: \"خدمات الأشعة\"\r\n};\r\n\r\nconst AdminServices = ({ allServices, onUpdate }) => {\r\n  const [password, setPassword] = useState(\"\");\r\n  const [authenticated, setAuthenticated] = useState(false);\r\n  // أول تبويب متاح\r\n  // أول تبويب متاح\r\n  const [tab, setTab] = useState(null);\r\n  // إعداد نسخة قابلة للتعديل من جميع الخدمات\r\n  const [edited, setEdited] = useState({});\r\n\r\n\r\n  // تحديث نسخة الخدمات عند تغيير allServices\r\n  React.useEffect(() => {\r\n    if (allServices && Object.keys(allServices).length > 0) {\r\n      setEdited(allServices);\r\n      setTab(Object.keys(allServices)[0]);\r\n    }\r\n  }, [allServices]);\r\n\r\n  const handleLogin = (e) => {\r\n    e.preventDefault();\r\n    if (password === PASSWORD) setAuthenticated(true);\r\n    else alert(\"كلمة المرور غير صحيحة\");\r\n  };\r\n\r\n  const handleChange = (serviceType, id, value) => {\r\n    setEdited((prev) => ({\r\n      ...prev,\r\n      [serviceType]: prev[serviceType].map((s) =>\r\n        s.id === id ? { ...s, basePrice: value } : s\r\n      ),\r\n    }));\r\n  };\r\n\r\n  const handleSave = () => {\r\n    onUpdate(edited);\r\n    alert(\"تم حفظ الأسعار بنجاح!\");\r\n  };\r\n\r\n\r\n  if (!authenticated) {\r\n    return (\r\n      <div className=\"admin-login\">\r\n        <form onSubmit={handleLogin}>\r\n          <h2>تسجيل دخول الإدارة</h2>\r\n          <input\r\n            type=\"password\"\r\n            placeholder=\"كلمة المرور\"\r\n            value={password}\r\n            onChange={(e) => setPassword(e.target.value)}\r\n          />\r\n          <button type=\"submit\">دخول</button>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n\r\n\r\n  return (\r\n    <div className=\"admin-services\" style={{maxHeight:'70vh',overflow:'auto',paddingBottom:32}}>\r\n      <div className=\"admin-tabs\" style={{position:'sticky',top:0,background:'#fff',zIndex:2,boxShadow:'0 2px 8px #0001',padding:'8px 0'}}>\r\n        {Object.keys(allServices).length === 0 ? (\r\n          <span style={{color:'#888'}}>لا توجد تخصصات متاحة</span>\r\n        ) : (\r\n          Object.keys(allServices).map((key) => (\r\n            <button\r\n              key={key}\r\n              className={tab === key ? \"active\" : \"\"}\r\n              onClick={() => setTab(key)}\r\n              style={{marginLeft:8,marginRight:8,minWidth:120,fontWeight:700,fontSize:'1.1em',padding:'8px 18px',borderRadius:8,border:'none',background:tab===key?'#3182ce':'#e2e8f0',color:tab===key?'#fff':'#222',transition:'0.2s'}}\r\n            >\r\n              {serviceLabels[key] || key}\r\n            </button>\r\n          ))\r\n        )}\r\n      </div>\r\n      {tab && edited[tab] && edited[tab].length > 0 ? (\r\n        <>\r\n          <h2>تعديل أسعار {serviceLabels[tab] || tab}</h2>\r\n          <table>\r\n            <thead>\r\n              <tr>\r\n                <th>الخدمة</th>\r\n                <th>السعر الأساسي (جنيه)</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {edited[tab].map((service) => (\r\n                <tr key={service.id}>\r\n                  <td>{service.name}</td>\r\n                  <td>\r\n                    <input\r\n                      type=\"number\"\r\n                      value={service.basePrice}\r\n                      onChange={(e) => handleChange(tab, service.id, Number(e.target.value))}\r\n                      min={0}\r\n                    />\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </>\r\n      ) : (\r\n        <div style={{margin:'30px 0', color:'#888'}}>لا توجد خدمات متاحة لهذا التخصص</div>\r\n      )}\r\n      <button className=\"save-btn\" onClick={handleSave}>\r\n        حفظ التعديلات\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminServices;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}